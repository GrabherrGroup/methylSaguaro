<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>methylSaguaro</title>
    <style type="text/css">a {text-decoration: none}</style>
  </head>
  <body>
    <div align="center"><a
        href="https://grabherrgroup.github.io/methylSaguaro/"><img
          src="images/logo.png" alt="logo" height="176" border="0"
          width="428"></a><br>
      <br>
      <table height="61" cellspacing="2" cellpadding="10" border="0"
        bgcolor="#ffffff" width="647">
        <tbody>
          <tr>
            <td align="center" valign="middle"><a
                href="https://github.com/GrabherrGroup/methylSaguaro/archive/master.zip"
                style="text-decoration: none"><font size="+1"
                  color="#006600"><b>Get methylSaguaro<br>
                  </b></font></a></td>
            <td align="center" valign="middle"><a
                href="https://github.com/GrabherrGroup/methylSaguaro"><font
                  size="+1" color="#006600"><b>View on GitHub</b></font></a><br>
            </td>
            <td align="center" valign="middle"><a
                href="https://grabherrgroup.github.io/methylSaguaro/tutorial.html"><font
                  size="+1" color="#006600"><b>Pipeline Manual</b></font></a><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
    </div>
    <h1 align="left">Instructions for analyzing data using methylSaguaro<br>
    </h1>
    <h1> </h1>
    Start by cloning the files from the github server:<br>
    <blockquote><i>git clone
        https://github.com/GrabherrGroup/methylSaguaro.git</i><br>
    </blockquote>
    Or, downloading the zipped folder <a
      href="https://github.com/GrabherrGroup/methylSaguaro/archive/master.zip">here</a>.<br>
    <blockquote><i>cd methylSaguaro</i><br>
    </blockquote>
    There are 3 steps for doing the analysis with methylSaguaro:<br>
    <br>
    1. Preprocessing<br>
    2. Running methylSaguaro <br>
    3. Post-processing<br>
    <br>
    <h3> 1. Preprocessing</h3>
    In the preprocessing phase, the input data is formatted into a
    methylSaguaro readable format, using the <i>scripts/preprocessing/mergeAndFormat.sh</i>
    script. <br>
    While we have used TCGA data, where every sample data is located in
    a separate file, the first step is to merge all the files (located
    in <i>myfolder</i>) and then format them. If the data is already
    merged into a file with all CpG sites on the rows and columns
    showing the samples beta values, then the code can be used in
    "format" mode.<br>
    <br>
    <title></title>
    <blockquote> <i> ./scripts/preprocessing/mergeAndFormat.sh
        mode="merge|format" in="folder|file" [is=",|t|s|;"] out="output"
        dic="27k|450k|850k|file" [sub="0|1|2"] [ds=",|t|s|;"]</i><br>
      <blockquote><i>mode:</i> 'merge' for TCGA downloaded data, where a
        folder contains other folders each keeping a sample beta values.
        'format' if the data is a single file with CpG sites on the rows
        and the beta value of each sample shown on the columns. The
        first row shows the samples IDs.<br>
        <i>in:</i> either input folder (when mode="merge") or file (when
        mode="format")<br>
        <i>is:</i> optional, input file column separator<br>
        <i>out:</i> output file<br>
        <i>dic:</i> either 27k, 450k, 850k indicating one of Illumina's
        array or a file as a dictionary file with genomic positions of
        the CpG sites.<br>
        <i>sub:</i> optional, for merging the TCGA data, this option
        subselects tumor types (0), normal types (1) or control samples
        (2). If nothing is set all samples are selected.<br>
        <i>ds:</i> optional, if the dictionary file is provided as file,
        this option takes the column separator.<br>
      </blockquote>
    </blockquote>
    Now you are ready to run methylSaguaro.<br>
    <br>
    <h3> 2. Running methylSaguaro</h3>
    <br>
    <br>
    make sure your current directory is methylSaguaro, then run the
    following:<br>
    <blockquote><i>./configure</i><br>
      <i>make -C build</i><br>
    </blockquote>
    <b>Note for mac users:</b> if cmake is not installed on your system,
    you can get it through Homebrew:<br>
    <blockquote> <i>/usr/bin/ruby -e "$(curl -fsSL
        https://raw.githubusercontent.com/Homebrew/install/master/install)‚Äù;</i><i>&nbsp;&nbsp;&nbsp;&nbsp;
        #getting homebrew<br>
      </i><i>brew install cmake&nbsp;&nbsp;&nbsp;&nbsp; # installing
        cmake<br>
      </i></blockquote>
    After installing methylSaguaro, run in the following steps:<br>
    <blockquote><i>./bin/Freq2HMMFeature -i inputFile -o featuresFile</i><br>
      <blockquote><i>i:</i> name of the inputFile in methylSaguaro
        format<br>
        <i>o:</i> name of the output file keeping the features<br>
      </blockquote>
      .<i>/bin/MethylSaguaor -f featuresFile -o resultsFolder -iter
        numberOfIterations -t transitionPenalty</i><br>
      <blockquote><i>f:</i> the features file generated in the first
        step<br>
        <i>o:</i> the name of the folder keeping the results of
        methylSaguaro<br>
        <i>iter:</i> an integer setting the number of iterations<br>
        <i>t:</i> an integer setting the transition penalty<br>
      </blockquote>
    </blockquote>
    A file has been provided for testing methylSaguaro, extracted from
    TCGA colon cancer data, which can be found at: <br>
    <blockquote><i>DataForTesting/TCGA_colonCancerNormal.txt</i><br>
    </blockquote>
    <br>
    <h3>3. Post-processing <br>
    </h3>
    <br>
    When the methylSaguaro computations are done,&nbsp; run the
    following script to annotate the differentiating regions and
    generate distance matrices. For each available cactus, a distance
    matrix and an annotated regions file will be generated.<br>
    <br>
    <blockquote> <i>perl processMethylSaguaroOutput.pl -i inputFile -o
        methylSaguaorResultsFolder -d dictionary (27k| 450k| 850k| file)
        -ds delimiter -r resultsFolder</i><br>
    </blockquote>
    <blockquote>
      <blockquote><i>i:</i> the file which was used as the input for
        methylSaguaro<br>
        <i>o:</i> the folder containing methylSaguaro output results<br>
        <i>d:</i> dictionary showing the genomic positions of the CpG
        sites. Set to either 27k, 450k, 850k or a file containing the
        positions<br>
        <i>ds:</i> optional, if a file is provided as the dictionary,
        shows the column separator<br>
        <i>r:</i> the folder that will contain the results<br>
      </blockquote>
      <br>
    </blockquote>
    <br>
    <br>
    <br>
    <br>
    <div align="center"><br>
    </div>
    <p> <br>
    </p>
    <br>
    <p><br>
    </p>
    &nbsp; <br>
    <br>
  </body>
</html>
